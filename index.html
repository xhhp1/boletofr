<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ูุธุงู ุงูุงูุชุฏุงุจุงุช ูุงูุฅุฌุงุฒุงุช</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --primary:#0e0edd;   /* ุงูููู ุงูุฃุฒุฑู ุงูุบุงูู */
      --card-bg:#05051f;
    }
    html {
  font-size: 115%;
}
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:"Tahoma",Arial,sans-serif;
      background: url("https://raw.githubusercontent.com/xhhp1/FRIMAGE/main/IMAGE.PNG.jpeg") no-repeat center center fixed;
      background-size: cover;
      color:#fff;
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:20px;
    }
    .app{
      width:100%;
      max-width:900px;
      background: rgba(5, 5, 31, 0.55); /* ุดูุงู */
      backdrop-filter: blur(8px);
      border-radius:16px;
      padding:20px 20px 30px;
      box-shadow:0 0 25px #000;
    }
    h1{
      margin:0 0 16px;
      text-align:center;
      font-size:24px;
    }
    .tabs{
      display:flex;
      flex-wrap:nowrap;  /* ุฃุฒุฑุงุฑ ุงูุชุงุจุงุช ุฃูููุฉ */
      gap:8px;
      margin-bottom:16px;
      justify-content:center;
    }
    .tab-btn{
      flex:0 0 auto;
      min-width:120px;
      border:none;
      border-radius:999px;
      padding:10px 14px;
      font-size:14px;
      background:#111a;
      cursor:pointer;
      color:#fff;
      box-shadow:0 0 10px #000;
      transition:0.2s ease;
      white-space:nowrap;
    }
    .tab-btn.active{
      background:#fff;
      color:#000;
    }
    .tab-content{
      display:none;
    }
    .tab-content.active{
      display:block;
      animation:fadeIn 0.2s ease;
    }
    @keyframes fadeIn{
      from{opacity:0;transform:translateY(4px);}
      to{opacity:1;transform:translateY(0);}
    }
    .section{margin-bottom:16px;}
    .label{
      display:block;
      margin-bottom:4px;
      font-size:14px;
    }
    input[type="number"],
    input[type="text"],
    input[type="datetime-local"],
    input[type="date"],
    select,
    textarea{
      width:100%;
      padding:8px 10px;
      border-radius:8px;
      border:1px solid #333;
      background:#020212;
      color:#fff;
      font-size:14px;
      box-shadow:0 0 10px #000;
    }
    textarea{
      min-height:180px;
      resize:vertical;
      white-space:pre-wrap;
    }
    .primary{
      margin-top:10px;
      border:none;
      border-radius:999px;
      padding:9px 16px;
      font-size:14px;
      background:#fff;
      color:#000;
      cursor:pointer;
      box-shadow:0 0 10px #000;
    }
    .primary:hover{opacity:0.9;}
    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }
    .result-box{
      margin-top:10px;
      padding:10px 12px;
      border-radius:10px;
      background:#020212;
      box-shadow:0 0 10px #000;
      font-size:14px;
      white-space:pre-wrap;
    }
    .note{
      font-size:12px;
      opacity:0.8;
      margin-top:4px;
    }
  </style>

  <!-- ๐น Flatpickr Dark Theme CSS -->
  <link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/dark.css">
</head>
<body>
  <div class="app">
    <h1>ูุธุงู ุงูุงูุชุฏุงุจุงุช ูุงูุฅุฌุงุฒุงุช</h1>

    <!-- ุฃุฒุฑุงุฑ ุงูุชุงุจุงุช -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="tab1">ูุฏุฉ ุงูุงูุชุฏุงุจ</button>
      <button class="tab-btn" data-tab="tab2">ุงูุงูุชุฏุงุจุงุช</button>
      <button class="tab-btn" data-tab="tab3">ูุทุน ู ุงูุชูุงุก ุงูุชุฏุงุจ</button>
      <button class="tab-btn" data-tab="tab4">ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</button>
    </div>

    <!-- ุชุจููุจ 1: ูุฏุฉ ุงูุงูุชุฏุงุจ -->
    <div id="tab1" class="tab-content active">
      <div class="section">
        <span class="label">ูุฏุฉ ุงูุชุฏุงุจู ุจุงูุฃูุงู (ูู 2 ุฅูู 5):</span>
        <input type="number" id="days1" min="2" max="5" />
      </div>

      <div class="section">
        <span class="label">ุชุงุฑูุฎ ูููุช ุจุฏุงูุฉ ุงูุงูุชุฏุงุจ (ุชูููุช ููุฉ):</span>
        <!-- ูุชุฑูู datetime-local ูููู ุงูุขู ูุณูุทุฑ ุนููู ุจู Flatpickr -->
        <input type="datetime-local" id="startDateTime1" />
      </div>

      <button class="primary" id="calcEndBtn">ุงุญุณุจ ุชุงุฑูุฎ ููุงูุฉ ุงูุงูุชุฏุงุจ</button>

      <div id="endResult" class="result-box"></div>
    </div>

    <!-- ุชุจููุจ 2: ุงูุงูุชุฏุงุจุงุช -->
    <div id="tab2" class="tab-content">
      <div class="section">
        <span class="label">ูุฏุฉ ุงูุงูุชุฏุงุจ (ุฃูุงู ูู 2 ุฅูู 5):</span>
        <input type="number" id="days2" min="2" max="5" />
      </div>

      <div class="section">
        <span class="label">ุงุฎุชุฑ ุงููุทุงุน:</span>
        <select id="sector2">
          <option value="">ุงุฎุชุฑ ุงููุทุงุน</option>
          <option value="ุงูุฃูู ุงูุนุงู">ุงูุฃูู ุงูุนุงู</option>
          <option value="ููุงุช ุงูุทูุงุฑุฆ ุงูุฎุงุตุฉ">ููุงุช ุงูุทูุงุฑุฆ ุงูุฎุงุตุฉ</option>
          <option value="ูุฑุงุฌ ุงููููุงูููู">ูุฑุงุฌ ุงููููุงูููู</option>
          <option value="ุงูููุงู ุงูุงุญูุฑ">ุงูููุงู ุงูุฃุญูุฑ</option>
          <option value="ููุงุช ุฃูู ุงูููุดุขุช">ููุงุช ุฃูู ุงูููุดุขุช</option>
          <option value="ุญุฑุณ ุงูุญุฏูุฏ">ุญุฑุณ ุงูุญุฏูุฏ</option>
        </select>
      </div>

      <div class="actions">
        <button class="primary" id="buildTab2">ุฅูุดุงุก ุงููุต</button>
        <button class="primary" type="button" onclick="copyFrom('tab2Output')">ูุณุฎ</button>
      </div>

      <div class="section">
        <span class="label">ุงููุงุชุฌ:</span>
        <textarea id="tab2Output" readonly></textarea>
      </div>
    </div>

    <!-- ุชุจููุจ 3: ูุทุน ู ุงูุชูุงุก ุงูุชุฏุงุจ -->
    <div id="tab3" class="tab-content">
      <div class="section">
        <span class="label">ุณุจุจ ุงููุทุน ุฃู ุงูุงูุชูุงุก ูู ุงูุงูุชุฏุงุจ:</span>
        <select id="reason3">
          <option value="">ุงุฎุชุฑ ุงูุณุจุจ</option>
          <option value="ุงูุชูุงุก ุงูุชุฏุงุจ">ุงูุชูุงุก ุงูุชุฏุงุจ</option>
          <option value="ุงููุงุก ุจุณุจุจ ุงุณุชูุงูุฉ ูู ูุทุงุน ุซุงููู">ุงููุงุก ุจุณุจุจ ุงุณุชูุงูุฉ ูู ูุทุงุน ุซุงููู</option>
          <option value="ุงูุชูุงุก ุณุฏ ุนุฌุฒ">ุงูุชูุงุก ุณุฏ ุนุฌุฒ</option>
        </select>
      </div>

      <div class="section">
        <span class="label">ุงููุทุงุน ุงูููุชุฏุจ ุฅููู:</span>
        <select id="sectorFrom3">
          <option value="">ุงุฎุชุฑ ุงููุทุงุน ุงูููุชุฏุจ ุฅููู</option>
          <option value="ุงูุฃูู ุงูุนุงู">ุงูุฃูู ุงูุนุงู</option>
          <option value="ููุงุช ุงูุทูุงุฑุฆ ุงูุฎุงุตุฉ">ููุงุช ุงูุทูุงุฑุฆ ุงูุฎุงุตุฉ</option>
          <option value="ูุฑุงุฌ ุงููููุงูููู">ูุฑุงุฌ ุงููููุงูููู</option>
          <option value="ุงูููุงู ุงูุงุญูุฑ">ุงูููุงู ุงูุฃุญูุฑ</option>
          <option value="ููุงุช ุฃูู ุงูููุดุขุช">ููุงุช ุฃูู ุงูููุดุขุช</option>
          <option value="ุญุฑุณ ุงูุญุฏูุฏ">ุญุฑุณ ุงูุญุฏูุฏ</option>
        </select>
      </div>

      <div class="section">
        <span class="label">ุงููุทุงุน ุงููุทููุจ ุงูุฑุฌูุน ูู:</span>
        <select id="sectorTo3">
          <option value="">ุงุฎุชุฑ ุงููุทุงุน ุงููุทููุจ ุงูุฑุฌูุน ูู</option>
          <option value="ุงูุฃูู ุงูุนุงู">ุงูุฃูู ุงูุนุงู</option>
          <option value="ููุงุช ุงูุทูุงุฑุฆ ุงูุฎุงุตุฉ">ููุงุช ุงูุทูุงุฑุฆ ุงูุฎุงุตุฉ</option>
          <option value="ูุฑุงุฌ ุงููููุงูููู">ูุฑุงุฌ ุงููููุงูููู</option>
          <option value="ุงูููุงู ุงูุงุญูุฑ">ุงูููุงู ุงูุฃุญูุฑ</option>
          <option value="ููุงุช ุฃูู ุงูููุดุขุช">ููุงุช ุฃูู ุงูููุดุขุช</option>
          <option value="ุญุฑุณ ุงูุญุฏูุฏ">ุญุฑุณ ุงูุญุฏูุฏ</option>
        </select>
      </div>

      <div class="actions">
        <button class="primary" id="buildTab3">ุฅูุดุงุก ุงููุต</button>
        <button class="primary" type="button" onclick="copyFrom('tab3Output')">ูุณุฎ</button>
      </div>

      <div class="section">
        <span class="label">ุงููุงุชุฌ:</span>
        <textarea id="tab3Output" readonly></textarea>
      </div>
    </div>

    <!-- ุชุจููุจ 4: ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ -->
    <div id="tab4" class="tab-content">
      <div class="section">
        <span class="label">ุงูุงุณู ู ุงูููุฏ:</span>
        <input type="text" id="nameCode4" />
      </div>

      <div class="section">
        <span class="label">ูุฏุฉ ุงูุฅุฌุงุฒุฉ (ุฃูุงู):</span>
        <input type="number" id="days4" min="1" />
      </div>

      <div class="section">
        <span class="label">ุชุงุฑูุฎ ุจุฏุก ุงูุฅุฌุงุฒุฉ:</span>
        <input type="date" id="startDate4" />
      </div>

      <div class="section">
        <span class="label">ุชุงุฑูุฎ ุงูุชูุงุก ุงูุฅุฌุงุฒุฉ:</span>
        <input type="date" id="endDate4" />
      </div>

      <div class="section">
        <span class="label">ุฑุงุจุท ุงูุฅุฌุงุฒุฉ ูู ูุทุงุนู:</span>
        <input type="text" id="link4" placeholder="ุถุน ุงูุฑุงุจุท ููุง (ุงุฎุชูุงุฑู)" />
      </div>

      <div class="actions">
        <button class="primary" id="buildTab4">ุฅูุดุงุก ุงููุต</button>
        <button class="primary" type="button" onclick="copyFrom('tab4Output')">ูุณุฎ</button>
      </div>

      <div class="section">
        <span class="label">ุงููุงุชุฌ:</span>
        <textarea id="tab4Output" readonly></textarea>
      </div>
    </div>
  </div>

  <!-- ๐น Flatpickr JS -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

  <script>
    // ุชูุนูู Flatpickr ุนูู ุญูู ุจุฏุงูุฉ ุงูุงูุชุฏุงุจ
    flatpickr("#startDateTime1", {
      enableTime: true,
      // ูุฎูู ุงููููุฉ ุจุตูุบุฉ ูุชูุงููุฉ ูุน datetime-local: 2025-11-13T12:55
      dateFormat: "Y-m-d\\TH:i",
      time_24hr: false,      // AM/PM
      defaultHour: 12,
      defaultMinute: 0
    });

    // ุชุจุฏูู ุงูุชุงุจุงุช
    document.querySelectorAll('.tab-btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
      });
    });

    // ุญุณุงุจ ููุงูุฉ ุงูุงูุชุฏุงุจ (ุชุงุจ 1) โ ุฅูุฌููุฒู
    document.getElementById('calcEndBtn').addEventListener('click',()=>{
      const daysInput = document.getElementById('days1');
      const startInput = document.getElementById('startDateTime1');
      const resultEl = document.getElementById('endResult');

      const days = parseInt(daysInput.value,10);
      if (isNaN(days) || days < 2 || days > 5){
        resultEl.textContent = 'โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ูุฏุฉ ุจูู 2 ู 5 ุฃูุงู.';
        return;
      }
      if (!startInput.value){
        resultEl.textContent = 'โ๏ธ ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุชุงุฑูุฎ ูููุช ุงูุจุฏุงูุฉ.';
        return;
      }

      const start = new Date(startInput.value);
      if (isNaN(start.getTime())){
        resultEl.textContent = 'โ๏ธ ุงูุชุงุฑูุฎ ุงููุฏุฎู ุบูุฑ ุตุงูุญ.';
        return;
      }

      const end = new Date(start.getTime() + days*24*60*60*1000);

      const options = {
        year:'numeric',
        month:'2-digit',
        day:'2-digit',
        hour:'2-digit',
        minute:'2-digit',
        hour12:true,
        timeZone:'Asia/Riyadh'
      };

      const formatter = new Intl.DateTimeFormat('en-US', options);
      const formatted = formatter.format(end);

      resultEl.textContent = 'Ends on: ' + formatted + ' (Mecca Time)';
    });

    // ููุงูุจ ุงููุทุงุนุงุช (ุชุงุจ 2)
    const sectorTemplates = {
      // ุงูุฃูู ุงูุนุงู ููุท ุจุฏูู ุฃูู ุงูุทุฑู
      "ุงูุฃูู ุงูุนุงู": `**ุงูุชุฏุงุจ ุฅูู:**

<@&1071933293865480192> 
<@&1071933294473662505> 
<@&1080964059974881451> 
<@&1080964715972395098> 

**ุงููุฏุฉ: 0 ุงูุงู  **`,
      "ููุงุช ุงูุทูุงุฑุฆ ุงูุฎุงุตุฉ": `**ุงูุชุฏุงุจ ุฅูู:**

<@&1178115232468570144> 
<@&1158320560246358076> 
<@&1104013850480738374> 
<@&1196926769761112085>

**ุงููุฏุฉ: 0 ุงูุงู **`,
      "ูุฑุงุฌ ุงููููุงูููู": `**ุงูุชุฏุงุจ ุฅูู:**

<@&1187334915189133352> 
<@&1071933343123386429> 
<@&1092120226478428200> 
<@&1092120390324731994> 

**ุงููุฏุฉ: 0 ุงูุงู **`,
      "ุงูููุงู ุงูุงุญูุฑ": `**ุงูุชุฏุงุจ ุฅูู:**

<@&1071933358503903242> 
<@&1071933359086911561> 
<@&1092667422902862004> 
<@&1153823182281777293> 

**ุงููุฏุฉ: 0 ุงูุงู **`,
      "ููุงุช ุฃูู ุงูููุดุขุช": `**ุงูุชุฏุงุจ ุฅูู:**

<@&1071933322470621295> 
<@&1071933323380785153> 
<@&1104013850480738374> 
<@&1196926769761112085>

**ุงููุฏุฉ: 0 ุงูุงู **`,
      "ุญุฑุณ ุงูุญุฏูุฏ": `**ุงูุชุฏุงุจ ุฅูู:**

<@&1333566912701136946> 
<@&1333567000395386890> 
<@&1333923910093242459> 
<@&1349160426960846909> 

**ุงููุฏุฉ: 0 ุงูุงู **`
    };

    // ุฃุฏูุงุฑ ุงููุทุงุนุงุช (ูุชุงุจ 3)
    const sectorRoles = {
      "ุงูุฃูู ุงูุนุงู":
`<@&1071933293865480192> 
<@&1071933294473662505> 
<@&1080964059974881451> 
<@&1080964715972395098>`,
      "ููุงุช ุงูุทูุงุฑุฆ ุงูุฎุงุตุฉ":
`<@&1178115232468570144> 
<@&1158320560246358076> 
<@&1104013850480738374> 
<@&1196926769761112085>`,
      "ูุฑุงุฌ ุงููููุงูููู":
`<@&1187334915189133352> 
<@&1071933343123386429> 
<@&1092120226478428200> 
<@&1092120390324731994>`,
      "ุงูููุงู ุงูุงุญูุฑ":
`<@&1071933358503903242> 
<@&1071933359086911561> 
<@&1092667422902862004> 
<@&1153823182281777293>`,
      "ููุงุช ุฃูู ุงูููุดุขุช":
`<@&1071933322470621295> 
<@&1071933323380785153> 
<@&1104013850480738374> 
<@&1196926769761112085>`,
      "ุญุฑุณ ุงูุญุฏูุฏ":
`<@&1333566912701136946> 
<@&1333567000395386890> 
<@&1333923910093242459> 
<@&1349160426960846909>`
    };

    // ุฅูุดุงุก ุงููุต ูู ุชุจููุจ 2
    document.getElementById('buildTab2').addEventListener('click',()=>{
      const days = parseInt(document.getElementById('days2').value,10);
      const sector = document.getElementById('sector2').value;
      const out = document.getElementById('tab2Output');

      if (isNaN(days) || days < 2 || days > 5){
        out.value = 'โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ูุฏุฉ ุจูู 2 ู 5 ุฃูุงู.';
        return;
      }
      if (!sector){
        out.value = 'โ๏ธ ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุงููุทุงุน.';
        return;
      }

      const template = sectorTemplates[sector];
      if (!template){
        out.value = '';
        return;
      }

      const text = template.replace(/ุงููุฏุฉ:\s*0/g, 'ุงููุฏุฉ: ' + days);
      out.value = text;
    });

    // ุชุจููุจ 3: ูุทุน ู ุงูุชูุงุก ุงูุชุฏุงุจ โ ุจุตูุบุฉ ุงูุฃูุซูุฉ ุงููู ุนุทูุชูู
    document.getElementById('buildTab3').addEventListener('click',()=>{
      const reason = document.getElementById('reason3').value;
      const sectorFrom = document.getElementById('sectorFrom3').value;
      const sectorTo   = document.getElementById('sectorTo3').value;
      const out = document.getElementById('tab3Output');

      if (!reason){
        out.value = 'โ๏ธ ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุณุจุจ ุงููุทุน ุฃู ุงูุงูุชูุงุก.';
        return;
      }
      if (!sectorFrom || !sectorTo){
        out.value = 'โ๏ธ ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุงููุทุงุนูู (ุงูููุชุฏุจ ุฅููู ูุงููุทููุจ ุงูุฑุฌูุน ูู).';
        return;
      }

      const rolesFrom = sectorRoles[sectorFrom] || '';
      const rolesTo   = sectorRoles[sectorTo]   || '';

      let text = '';

      if (reason === 'ุงูุชูุงุก ุงูุชุฏุงุจ'){
        text =
"1- `ุงูุชูุงุก ุงูุชุฏุงุจ ูู :`\n\n" +
rolesFrom + "\n \n" +
"`ุงูุนูุฏุฉ ุงูู :`\n\n" +
rolesTo;
      } else if (reason === 'ุงููุงุก ุจุณุจุจ ุงุณุชูุงูุฉ ูู ูุทุงุน ุซุงููู'){
        text =
"2- ูุทุน ุงูุชุฏุงุจ ูู :\n\n" +
rolesFrom + "\n\n" +
"ุงูุนูุฏุฉ ุงูู :\n\n" +
rolesTo + "\n\n" +
"ุงูุณุจุจ : ุงุณุชูุงูู ูู ุงููุทุงุน ุงูุซุงููู";
      } else if (reason === 'ุงูุชูุงุก ุณุฏ ุนุฌุฒ'){
        text =
"3- ุงูุชูุงุก ุงูุชุฏุงุจ ุณุฏ ุงูุนุฌุฒ ูู :\n\n" +
rolesFrom + "\n\n\n" +
"ุงูุนูุฏุฉ  ุงูู :\n" +
rolesTo;
      } else {
        text = reason;
      }

      out.value = text;
    });

    // ุฅูุดุงุก ุงููุต ูู ุชุจููุจ 4
    document.getElementById('buildTab4').addEventListener('click',()=>{
      const nameCode = document.getElementById('nameCode4').value.trim();
      const days = document.getElementById('days4').value.trim();
      const start = document.getElementById('startDate4').value.trim();
      const end = document.getElementById('endDate4').value.trim();
      const link = document.getElementById('link4').value.trim();
      const out = document.getElementById('tab4Output');

      const duration = days || '0';
      const finalLink = link || 'ุงูุฑุงุจุท ููุง';

      const text =
`ุงูุงุณู ูุงูููุฏ: ${nameCode}

**ุงููุฏุฉ: ${duration} **

ูู ุชุงุฑูุฎ: ${start}

ุฅูู ุชุงุฑูุฎ: ${end}

**ุฑุงุจุท ูุจูู ุงูุฅุฌุงุฒุฉ ูู ูุจู ุงููุทุงุน ุงูุฃุณุงุณู: ${finalLink} **`;

      out.value = text;
    });

    // ุฒุฑ ุงููุณุฎ (ุจุฏูู Alerts)
    function copyFrom(id){
      const el = document.getElementById(id);
      if (!el) return;
      const text = el.value || el.textContent || '';
      if (navigator.clipboard && window.isSecureContext){
        navigator.clipboard.writeText(text);
      }else{
          const temp = document.createElement('textarea');
          temp.value = text;
          document.body.appendChild(temp);
          temp.select();
          try { document.execCommand('copy'); } catch(e){}
          document.body.removeChild(temp);
      }
    }
    window.copyFrom = copyFrom;
  </script>
</body>
</html>

